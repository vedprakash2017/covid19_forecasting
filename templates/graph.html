{% extends "main.html" %}

{% block graph %}

{% for j in range(3) %}


<div class="box tab">
  <div class="wrap">
    
    {% set c = chart[j][1] %}
    {% set m = chart[j][2] %}
    <!-- <h1> {{ chart[j][2] }}</h1> -->
    <canvas id="{{ chart[j][0] }}"  height = '150px'></canvas>

    <script>
var ctx = document.getElementById('{{ chart[j][0] }}').getContext('2d');

      var chart = new Chart(ctx, {
        type : 'line',

        data : {
              labels : 
                  [
                    {% for i in gdata %}
                      {% if i['state'] == 'Total'%}
                      {% if i[c] != -1 %}
                        "{{ i['date'] }}",
                      {% endif %}
                      {% endif %}
                    {% endfor %}
                  ],
              datasets : 
                [
                  {            
                    label: '{{ m }}' ,
                    // backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data : [
                              {% for i in gdata %}
                                {% if i['state'] == 'Total'%}
                                  {% if i[c] != -1%}
                                  "{{ i[c] }}",
                                  
                                {% endif %}
                                {% endif %}
                              {% endfor %}
                            ]
                  }

                ] 
              },
              options: {
                responsive:'false',
                scales: {
                  xAxes: [{
                                type: 'time',
                                ticks: {
                                autoSkip: true,
                                maxTicksLimit: 20
                            }
                        }]
                        }
                      }

            });
    </script>
  </div>
</div>

{% endfor %}

{% endblock %}




{% block graph1 %}

{% for j in range(3) %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>



<div class="box tab">
  <div class="wrap">
    {% set c = chart[j][1] %}
    {% set m = chart[j][2] %}
    <!-- <h1> {{ chart[j][2] }}</h1> -->
    <canvas id="{{ chart[j][0] }}" width="450" height="280" style="width:100%; height: 200px;"></canvas>

    <script>
alert(s);
var ctx = document.getElementById('{{ chart[j][0] }}').getContext('2d');

      var chart = new Chart(ctx, {
        type : 'line',

        data : {
              labels : 
                  [
                    {% for i in gdata %}
                      {% if i['state'] == 'Total'%}
                      {% if i[c] != -1 %}
                        "{{ i['date'] }}",
                      {% endif %}
                      {% endif %}
                    {% endfor %}
                  ],
              datasets : 
                [
                  {            
                    label: '{{ m }}' ,
                    // backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data : [
                              {% for i in gdata %}
                                {% if i['state'] == 'Total'%}
                                  {% if i[c] != -1%}
                                  "{{ i[c] }}",
                                  
                                {% endif %}
                                {% endif %}
                              {% endfor %}
                            ]
                  }

                ] 
              },
              options: {
                responsive:'false',
                scales: {
                  xAxes: [{
                                type: 'time',
                                ticks: {
                                autoSkip: true,
                                maxTicksLimit: 20
                            }
                        }]
                        }
                      }

            });
    </script>
  </div>
</div>

{% endfor %}

{% endblock %}
